---
layout: post
title:  "Dockerä½¿ç”¨åŸºç¡€"
date:   2020-08-16 11:12:43 +0800
categories: NOTE
---

## Docker å®‰è£…
> ä»¥ä¸‹å®‰è£…ç¯å¢ƒä¸»è¦åŸºäºMacæ¥è¿›è¡Œæ“ä½œ

### å®‰è£…è¿‡ç¨‹

macOS æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Homebrew æ¥å®‰è£… Dockerã€‚
Homebrew çš„ Cask å·²ç»æ”¯æŒ Docker for Macï¼Œå› æ­¤å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨ Homebrew Cask æ¥è¿›è¡Œå®‰è£…ã€‚

æ³¨ï¼šå¦‚æœmacæœªå®‰è£…brewå·¥å…·ï¼Œå»ºè®®å…ˆå®‰è£…ä¸€ä¸‹ï¼Œè¿™ä¸ªå·¥å…·åœ¨macä¸‹ä½¿ç”¨éå¸¸é«˜æ•ˆ

#### å®‰è£…å‘½ä»¤

```
brew cask install docker
==> Downloading https://download.docker.com/mac/stable/42247/Docker.dmg
######################################################################## 100.0%
==> Verifying SHA-256 checksum for Cask 'docker'.
==> Installing Cask docker
==> Moving App 'Docker.app' to '/Applications/Docker.app'.
ğŸº  docker was successfully installed!
```

### é•œåƒåŠ é€Ÿ

#### é•œåƒé€‰æ‹©
å›½å†…ä» DockerHub æ‹‰å–é•œåƒæœ‰æ—¶ä¼šé‡åˆ°å›°éš¾ï¼Œæ­¤æ—¶å¯ä»¥é…ç½®é•œåƒåŠ é€Ÿå™¨ã€‚Docker å®˜æ–¹å’Œå›½å†…å¾ˆå¤šäº‘æœåŠ¡å•†éƒ½æä¾›äº†å›½å†…åŠ é€Ÿå™¨æœåŠ¡ï¼Œä¾‹å¦‚ï¼š

- ç½‘æ˜“ï¼šhttps://hub-mirror.c.163.com/
- é˜¿é‡Œäº‘ï¼šhttps://<ä½ çš„ID>.mirror.aliyuncs.com
- ä¸ƒç‰›äº‘åŠ é€Ÿå™¨ï¼šhttps://reg-mirror.qiniu.com

å½“é…ç½®æŸä¸€ä¸ªåŠ é€Ÿå™¨åœ°å€ä¹‹åï¼Œè‹¥å‘ç°æ‹‰å–ä¸åˆ°é•œåƒï¼Œè¯·åˆ‡æ¢åˆ°å¦ä¸€ä¸ªåŠ é€Ÿå™¨åœ°å€ã€‚å›½å†…å„å¤§äº‘æœåŠ¡å•†å‡æä¾›äº† Docker é•œåƒåŠ é€ŸæœåŠ¡ï¼Œå»ºè®®æ ¹æ®è¿è¡Œ Docker çš„äº‘å¹³å°é€‰æ‹©å¯¹åº”çš„é•œåƒåŠ é€ŸæœåŠ¡ã€‚

é˜¿é‡Œäº‘é•œåƒè·å–åœ°å€ï¼šhttps://cr.console.aliyun.com/cn-hangzhou/instances/mirrorsï¼Œç™»é™†åï¼Œå·¦ä¾§èœå•é€‰ä¸­é•œåƒåŠ é€Ÿå™¨å°±å¯ä»¥çœ‹åˆ°ä½ çš„ä¸“å±åœ°å€äº†ï¼š

![](/assets/img/ali-docker.jpg)

#### é•œåƒé…ç½®
Mac OS X çš„ç”¨æˆ·ï¼Œåœ¨ä»»åŠ¡æ ç‚¹å‡» Docker for mac åº”ç”¨å›¾æ ‡-> Perferencesï¼Œå¦‚ä¸‹å›¾ï¼š

![](/assets/img/docker-p.jpg)

```
{
	"registry-mirrors": [
	"https://<ä½ çš„ID>.mirror.aliyuncs.com",
	"https://hub-mirror.c.163.com/",
	"https://docker.mirrors.ustc.edu.cn"
	],
	"experimental": false,
	"debug": true
}
```
æ³¨ï¼š é€šè¿‡ç•Œé¢è¿›è¡Œé…ç½®æ›´æ”¹åä¼šæç¤ºé‡å¯ï¼Œéœ€è¿›è¡Œé‡å¯é…ç½®æ–¹å¯ç”Ÿæ•ˆ

#### æ£€æŸ¥é…ç½®æ˜¯å¦ç”Ÿæ•ˆ

```
docker info
...
 Registry Mirrors:
  https://<ä½ çš„ID>.mirror.aliyuncs.com/
  https://hub-mirror.c.163.com/
  https://docker.mirrors.ustc.edu.cn/
 Live Restore Enabled: false
 Product License: Community Engine
```

### å¸¸ç”¨å‘½ä»¤

#### æŸ¥çœ‹é•œåƒ
	docker images

![](/assets/img/docker-images.jpg)

#### æœç´¢é•œåƒ
	docker search httpd

![](/assets/img/docker-search.jpg)

#### è·å–é•œåƒ
	docker pull httpd

#### åˆ é™¤é•œåƒ
	docker rmi <image ID>

#### å¼ºåˆ¶åˆ é™¤é•œåƒ
	docker rmi -f <image ID>

#### è¿è¡Œå®¹å™¨

	# è¿è¡Œcentosé•œåƒ
	docker run -it centos

![](/assets/img/docker-run.jpg)

#### åå°è¿è¡Œ
	docker run -itd --name centos-test centos /bin/bash

![](/assets/img/docker-run-d.jpg)

#### è¿›å…¥å®¹å™¨
	docker exec -it centos-test /bin/bash
	æˆ–
	docker exec -it 5189ef9e7a98 /bin/bash

![](/assets/img/docker-exec.jpg)	

#### æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨
	docker ps 

![](/assets/img/docker-ps.jpg)

#### åœæ­¢å®¹å™¨
	docker stop <å®¹å™¨ ID>

#### åˆ é™¤å®¹å™¨
	 docker rm -f <å®¹å™¨ ID>

#### æŸ¥çœ‹å·²ç»åœæ­¢çš„å®¹å™¨
	docker ps -a

![](/assets/img/docker-ps-a.jpg)

#### é‡å¯å·²åœæ­¢çš„å®¹å™¨
	docker restart <å®¹å™¨ ID>



## å‚è€ƒèµ„æ–™
- [DockeråŸºç¡€æ•™ç¨‹](https://www.runoob.com/docker/docker-container-usage.html)






